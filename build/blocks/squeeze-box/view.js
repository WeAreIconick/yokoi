(()=>{const e=e=>e&&e.nodeType===Node.ELEMENT_NODE&&"function"==typeof e.addEventListener,t=(t,o,n)=>{try{if(!e(t)||!t.style||"string"!=typeof o||"string"!=typeof n)return;if(!["maxHeight","max-height"].includes(o))return;t.style[o]=n}catch(e){console.warn("Error setting style:",e)}},o=(o,n)=>{if(e(o)&&e(n))try{if(o.checked){const o=(t=>{try{return e(t)&&t.scrollHeight||0}catch(e){return console.warn("Error calculating height:",e),0}})(n);o>0&&o<1e4&&t(n,"maxHeight",`${o}px`)}else t(n,"maxHeight","0")}catch(e){console.warn("Error updating content height:",e)}},n=t=>{if(e(t))try{const n=t.querySelector('input[type="checkbox"], input[type="radio"]'),r=t.querySelector(".tab__content");if(!e(n)||!e(r))return;const i=n.getAttribute("type");if("checkbox"!==i&&"radio"!==i)return;o(n,r),n.addEventListener("change",e=>{try{e&&e.target===n&&o(n,r)}catch(e){console.warn("Error in change event:",e)}})}catch(e){console.warn("Error initializing tab:",e)}},r=()=>{try{const t=document.querySelectorAll(".wp-block-yokoi-squeeze-box .squeeze-box");if(!t||!t.length)return;t.forEach(t=>{if(!e(t))return;const o=t.querySelectorAll(".tab");o&&o.length&&o.forEach(n)})}catch(e){console.error("Error initializing squeeze boxes:",e)}},i=(e=>{let t;return(...o)=>{clearTimeout(t),t=setTimeout(()=>e.apply(null,o),250)}})(()=>{try{document.querySelectorAll(".wp-block-yokoi-squeeze-box .squeeze-box").forEach(n=>{e(n)&&n.querySelectorAll(".tab").forEach(n=>{const r=n.querySelector('input[type="checkbox"], input[type="radio"]'),i=n.querySelector(".tab__content");e(r)&&e(i)&&r.checked&&(t(i,"maxHeight","none"),setTimeout(()=>{o(r,i)},0))})})}catch(e){console.warn("Error handling resize:",e)}}),c=()=>{try{r(),"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("resize",i,{passive:!0})}catch(e){console.error("Error during initialization:",e)}};"undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):c()),"undefined"!=typeof window&&window.wp&&window.wp.hooks&&"function"==typeof window.wp.hooks.addAction&&window.wp.hooks.addAction("blocks.block_added","yokoi/squeeze-box",r)})();