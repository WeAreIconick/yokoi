(()=>{"use strict";var e,o={1904:()=>{const e=window.wp.blocks,o=window.wp.i18n,t=window.wp.blockEditor,l=window.wp.components,i=window.wp.element,n=window.ReactJSXRuntime,a=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"yokoi/poppit","version":"0.1.0","title":"Poppit","category":"yokoi","icon":{"src":"<svg viewBox=\\"0 0 24 24\\" xmlns=\\"http://www.w3.org/2000/svg\\"><rect x=\\"3\\" y=\\"3\\" width=\\"18\\" height=\\"18\\" rx=\\"2\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"1.5\\"/><path d=\\"M7 8h10v6h-4.5L11 16v-2H7V8z\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"1.2\\" stroke-linejoin=\\"round\\"/><path d=\\"M15.5 9.5l-.6 1.1-1.2.2.9.9-.2 1.2 1.1-.6 1.1.6-.2-1.2.9-.9-1.2-.2-.6-1.1z\\" fill=\\"currentColor\\"/></svg>"},"description":"Build pop-ups that feel like helpful suggestions, not annoying interruptions.","example":{"attributes":{"popupType":"modal","triggerType":"time","triggerDelay":5,"title":"Subscribe to Our Newsletter","content":"Get the latest updates and exclusive content delivered to your inbox."}},"attributes":{"popupId":{"type":"string","default":""},"popupType":{"type":"string","default":"modal"},"title":{"type":"string","default":"Pop-up Title"},"content":{"type":"string","default":"Your pop-up content goes here."},"triggerType":{"type":"string","default":"time"},"triggerDelay":{"type":"number","default":3},"scrollDepth":{"type":"number","default":50},"exitIntent":{"type":"boolean","default":false},"showCloseButton":{"type":"boolean","default":true},"overlayOpacity":{"type":"number","default":0.8},"emailEnabled":{"type":"boolean","default":false},"emailPlaceholder":{"type":"string","default":"Enter your email address"},"buttonText":{"type":"string","default":"Subscribe"},"targeting":{"type":"object","default":{"devices":["desktop","tablet","mobile"],"userType":"all"}},"animation":{"type":"string","default":"fadeIn"},"width":{"type":"string","default":"500px"},"height":{"type":"string","default":"auto"},"position":{"type":"string","default":"center"},"allowReset":{"type":"boolean","default":false},"resetDelay":{"type":"number","default":60}},"supports":{"html":false,"color":{"background":true,"text":true,"gradients":true},"typography":{"fontSize":true,"fontFamily":true,"lineHeight":true},"spacing":{"padding":true,"margin":true},"border":{"radius":true,"width":true,"style":true,"color":true}},"textdomain":"yokoi","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScript":"file:./view.js","render":"file:./render.php"}');(0,e.registerBlockType)(a.name,{...a,icon:"megaphone",edit:function({attributes:e,setAttributes:a}){const{popupType:s,title:r,content:p,triggerType:d,triggerDelay:c,scrollDepth:u,exitIntent:y,showCloseButton:h,overlayOpacity:g,emailEnabled:_,emailPlaceholder:b,buttonText:k,targeting:x,animation:m,width:v,height:f,position:j,allowReset:C,resetDelay:w}=e,[T,S]=(0,i.useState)(!1);(0,i.useEffect)(()=>{e.popupId||a({popupId:`popup-${Math.random().toString(36).slice(2,11)}`})},[e.popupId,a]);const B=(0,t.useBlockProps)({className:`poppit-block popup-type-${s} position-${j}`,style:{"--popup-width":v,"--popup-height":f,"--overlay-opacity":g}}),O=[{label:(0,o.__)("Modal/Lightbox","yokoi"),value:"modal"},{label:(0,o.__)("Slide In","yokoi"),value:"slide"},{label:(0,o.__)("Top Bar","yokoi"),value:"topbar"},{label:(0,o.__)("Bottom Bar","yokoi"),value:"bottombar"},{label:(0,o.__)("Full Screen","yokoi"),value:"fullscreen"}],N=[{label:(0,o.__)("Time Based","yokoi"),value:"time"},{label:(0,o.__)("Scroll Depth","yokoi"),value:"scroll"},{label:(0,o.__)("Exit Intent","yokoi"),value:"exit"},{label:(0,o.__)("Page Load","yokoi"),value:"load"},{label:(0,o.__)("Manual Trigger","yokoi"),value:"manual"}],P=[{label:(0,o.__)("Fade In","yokoi"),value:"fadeIn"},{label:(0,o.__)("Slide Down","yokoi"),value:"slideDown"},{label:(0,o.__)("Slide Up","yokoi"),value:"slideUp"},{label:(0,o.__)("Zoom In","yokoi"),value:"zoomIn"},{label:(0,o.__)("Bounce In","yokoi"),value:"bounceIn"}],E=[{label:(0,o.__)("Center","yokoi"),value:"center"},{label:(0,o.__)("Top Left","yokoi"),value:"top-left"},{label:(0,o.__)("Top Right","yokoi"),value:"top-right"},{label:(0,o.__)("Bottom Left","yokoi"),value:"bottom-left"},{label:(0,o.__)("Bottom Right","yokoi"),value:"bottom-right"}],I=()=>(0,n.jsx)("div",{className:"poppit-preview",children:(0,n.jsx)("div",{className:"popup-overlay",style:{opacity:g},children:(0,n.jsxs)("div",{className:`popup-container popup-${s} animation-${m}`,children:[h&&(0,n.jsx)("button",{className:"popup-close","aria-label":(0,o.__)("Close","yokoi"),children:"Ã—"}),(0,n.jsxs)("div",{className:"popup-content",children:[(0,n.jsx)(t.RichText,{tagName:"h3",className:"popup-title",value:r,onChange:e=>a({title:e}),placeholder:(0,o.__)("Enter popup titleâ€¦","yokoi")}),(0,n.jsx)(t.RichText,{tagName:"div",className:"popup-text",value:p,onChange:e=>a({content:e}),placeholder:(0,o.__)("Enter popup contentâ€¦","yokoi")}),_&&(0,n.jsxs)("div",{className:"popup-email-form",children:[(0,n.jsx)("input",{type:"email",placeholder:b,className:"popup-email-input"}),(0,n.jsx)("button",{className:"popup-submit-btn",children:k})]})]})]})})});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.BlockControls,{children:(0,n.jsx)(l.ToolbarGroup,{children:(0,n.jsx)(l.ToolbarButton,{label:T?(0,o.__)("Edit Mode","yokoi"):(0,o.__)("Preview Mode","yokoi"),onClick:()=>S(!T),isPressed:T,children:T?"âš™ï¸":"ðŸ‘ï¸"})})}),(0,n.jsxs)(t.InspectorControls,{children:[(0,n.jsxs)(l.PanelBody,{title:(0,o.__)("Pop-up Settings","yokoi"),initialOpen:!0,children:[(0,n.jsx)(l.SelectControl,{label:(0,o.__)("Pop-up Type","yokoi"),value:s,options:O,onChange:e=>a({popupType:e})}),(0,n.jsx)(l.SelectControl,{label:(0,o.__)("Animation","yokoi"),value:m,options:P,onChange:e=>a({animation:e})}),"modal"===s&&(0,n.jsx)(l.SelectControl,{label:(0,o.__)("Position","yokoi"),value:j,options:E,onChange:e=>a({position:e})}),(0,n.jsx)(l.TextControl,{label:(0,o.__)("Width","yokoi"),value:v,onChange:e=>a({width:e}),help:(0,o.__)("e.g., 500px, 80%, auto","yokoi")}),(0,n.jsx)(l.ToggleControl,{label:(0,o.__)("Show Close Button","yokoi"),checked:h,onChange:e=>a({showCloseButton:e})}),(0,n.jsx)(l.RangeControl,{label:(0,o.__)("Overlay Opacity","yokoi"),value:g,onChange:e=>a({overlayOpacity:e}),min:0,max:1,step:.1})]}),(0,n.jsxs)(l.PanelBody,{title:(0,o.__)("Trigger Settings","yokoi"),initialOpen:!1,children:[(0,n.jsx)(l.SelectControl,{label:(0,o.__)("Trigger Type","yokoi"),value:d,options:N,onChange:e=>a({triggerType:e})}),"time"===d&&(0,n.jsx)(l.RangeControl,{label:(0,o.__)("Delay (seconds)","yokoi"),value:c,onChange:e=>a({triggerDelay:e}),min:0,max:60,step:1}),"scroll"===d&&(0,n.jsx)(l.RangeControl,{label:(0,o.__)("Scroll Depth (%)","yokoi"),value:u,onChange:e=>a({scrollDepth:e}),min:0,max:100,step:5}),"exit"===d&&(0,n.jsx)(l.ToggleControl,{label:(0,o.__)("Enable Exit Intent","yokoi"),checked:y,onChange:e=>a({exitIntent:e}),help:(0,o.__)("Show popup when user moves cursor to leave the page","yokoi")})]}),(0,n.jsxs)(l.PanelBody,{title:(0,o.__)("Reset Behavior","yokoi"),initialOpen:!1,children:[(0,n.jsx)(l.ToggleControl,{label:(0,o.__)("Allow Reset","yokoi"),checked:C,onChange:e=>a({allowReset:e}),help:(0,o.__)("Allow the popup to be shown again after a specified delay","yokoi")}),C&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.RangeControl,{label:(0,o.__)("Reset Delay (minutes)","yokoi"),value:w||60,onChange:e=>a({resetDelay:e}),min:1,max:1440,step:1,help:(0,o.__)("Time in minutes before the popup can be shown again","yokoi")}),(0,n.jsxs)("div",{style:{marginTop:"15px",padding:"12px",backgroundColor:"#f0f6fc",border:"1px solid #c3e4f7",borderRadius:"4px",fontSize:"13px"},children:[(0,n.jsx)("strong",{children:(0,o.__)("Testing Options:","yokoi")}),(0,n.jsx)("p",{style:{margin:"5px 0 0 0",lineHeight:"1.4"},children:(0,o.__)("Add ?poppit-test=1 to your URL to ignore all display restrictions for testing.","yokoi")})]})]})]}),(0,n.jsxs)(l.PanelBody,{title:(0,o.__)("Email Integration","yokoi"),initialOpen:!1,children:[(0,n.jsx)(l.ToggleControl,{label:(0,o.__)("Enable Email Collection","yokoi"),checked:_,onChange:e=>a({emailEnabled:e})}),_&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.TextControl,{label:(0,o.__)("Email Placeholder","yokoi"),value:b,onChange:e=>a({emailPlaceholder:e})}),(0,n.jsx)(l.TextControl,{label:(0,o.__)("Button Text","yokoi"),value:k,onChange:e=>a({buttonText:e})})]})]}),(0,n.jsxs)(l.PanelBody,{title:(0,o.__)("Targeting Options","yokoi"),initialOpen:!1,children:[(0,n.jsx)("h4",{children:(0,o.__)("Device Targeting","yokoi")}),(0,n.jsx)(l.CheckboxControl,{label:(0,o.__)("Desktop","yokoi"),checked:x.devices.includes("desktop"),onChange:e=>{const o=e?[...x.devices,"desktop"]:x.devices.filter(e=>"desktop"!==e);a({targeting:{...x,devices:o}})}}),(0,n.jsx)(l.CheckboxControl,{label:(0,o.__)("Tablet","yokoi"),checked:x.devices.includes("tablet"),onChange:e=>{const o=e?[...x.devices,"tablet"]:x.devices.filter(e=>"tablet"!==e);a({targeting:{...x,devices:o}})}}),(0,n.jsx)(l.CheckboxControl,{label:(0,o.__)("Mobile","yokoi"),checked:x.devices.includes("mobile"),onChange:e=>{const o=e?[...x.devices,"mobile"]:x.devices.filter(e=>"mobile"!==e);a({targeting:{...x,devices:o}})}}),(0,n.jsx)(l.SelectControl,{label:(0,o.__)("User Type","yokoi"),value:x.userType,options:[{label:(0,o.__)("All Visitors","yokoi"),value:"all"},{label:(0,o.__)("New Visitors","yokoi"),value:"new"},{label:(0,o.__)("Returning Visitors","yokoi"),value:"returning"}],onChange:e=>a({targeting:{...x,userType:e}})})]}),(0,n.jsxs)(l.PanelBody,{title:(0,o.__)("More Blocks by iconick","yokoi"),initialOpen:!1,children:[(0,n.jsx)("p",{children:(0,o.__)("Think these ideas are wild? You ain't seen nothing yet.","yokoi")}),(0,n.jsx)(l.ExternalLink,{href:"https://iconick.io/blocks/",children:(0,o.__)("Click to enter the block wonderland","yokoi")})]})]}),(0,n.jsx)("div",{...B,children:T?I():(0,n.jsxs)("div",{className:"poppit-editor",children:[(0,n.jsxs)("div",{className:"poppit-header",children:[(0,n.jsx)("h4",{children:(0,o.__)("Poppit","yokoi")}),(0,n.jsxs)("div",{className:"poppit-meta",children:[(0,n.jsx)("span",{className:"popup-type-badge",children:s.toUpperCase()}),(0,n.jsxs)("span",{className:"trigger-type-badge",children:["time"===d&&(0,o.sprintf)(/* translators: %s: Seconds before the popup is shown. */ /* translators: %s: Seconds before the popup is shown. */
(0,o.__)("After %ss","yokoi"),c),"scroll"===d&&(0,o.sprintf)(/* translators: %s: Percentage of scroll depth. */ /* translators: %s: Percentage of scroll depth. */
(0,o.__)("At %s%%","yokoi"),u),"exit"===d&&(0,o.__)("Exit Intent","yokoi"),"load"===d&&(0,o.__)("Page Load","yokoi"),"manual"===d&&(0,o.__)("Manual","yokoi")]}),C&&(0,n.jsx)("span",{className:"reset-badge",children:(0,o.__)("RESETS","yokoi")})]})]}),(0,n.jsx)("div",{className:"poppit-preview-container",children:I()})]})})]})},save:()=>null})}},t={};function l(e){var i=t[e];if(void 0!==i)return i.exports;var n=t[e]={exports:{}};return o[e](n,n.exports,l),n.exports}l.m=o,e=[],l.O=(o,t,i,n)=>{if(!t){var a=1/0;for(d=0;d<e.length;d++){for(var[t,i,n]=e[d],s=!0,r=0;r<t.length;r++)(!1&n||a>=n)&&Object.keys(l.O).every(e=>l.O[e](t[r]))?t.splice(r--,1):(s=!1,n<a&&(a=n));if(s){e.splice(d--,1);var p=i();void 0!==p&&(o=p)}}return o}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[t,i,n]},l.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={21:0,641:0};l.O.j=o=>0===e[o];var o=(o,t)=>{var i,n,[a,s,r]=t,p=0;if(a.some(o=>0!==e[o])){for(i in s)l.o(s,i)&&(l.m[i]=s[i]);if(r)var d=r(l)}for(o&&o(t);p<a.length;p++)n=a[p],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(d)},t=globalThis.webpackChunkyokoi=globalThis.webpackChunkyokoi||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var i=l.O(void 0,[641],()=>l(1904));i=l.O(i)})();