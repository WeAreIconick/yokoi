(()=>{"use strict";var e,o={1904:()=>{const e=window.wp.blocks,o=window.wp.i18n,l=window.wp.blockEditor,i=window.wp.components,t=window.wp.element,a=window.ReactJSXRuntime,n=JSON.parse('{"UU":"yokoi/poppit"}');(0,e.registerBlockType)(n.UU,{edit:function({attributes:e,setAttributes:n}){const{popupType:s,title:r,content:p,triggerType:c,triggerDelay:d,scrollDepth:_,exitIntent:h,showCloseButton:u,overlayOpacity:y,emailEnabled:g,emailPlaceholder:k,buttonText:b,targeting:x,animation:v,width:m,height:j,position:C,allowReset:w,resetDelay:T}=e,[f,B]=(0,t.useState)(!1);(0,t.useEffect)(()=>{e.popupId||n({popupId:`popup-${Math.random().toString(36).slice(2,11)}`})},[e.popupId,n]);const O=(0,l.useBlockProps)({className:`poppit-block popup-type-${s} position-${C}`,style:{"--popup-width":m,"--popup-height":j,"--overlay-opacity":y}}),N=[{label:(0,o.__)("Modal/Lightbox","yokoi"),value:"modal"},{label:(0,o.__)("Slide In","yokoi"),value:"slide"},{label:(0,o.__)("Top Bar","yokoi"),value:"topbar"},{label:(0,o.__)("Bottom Bar","yokoi"),value:"bottombar"},{label:(0,o.__)("Full Screen","yokoi"),value:"fullscreen"}],S=[{label:(0,o.__)("Time Based","yokoi"),value:"time"},{label:(0,o.__)("Scroll Depth","yokoi"),value:"scroll"},{label:(0,o.__)("Exit Intent","yokoi"),value:"exit"},{label:(0,o.__)("Page Load","yokoi"),value:"load"},{label:(0,o.__)("Manual Trigger","yokoi"),value:"manual"}],E=[{label:(0,o.__)("Fade In","yokoi"),value:"fadeIn"},{label:(0,o.__)("Slide Down","yokoi"),value:"slideDown"},{label:(0,o.__)("Slide Up","yokoi"),value:"slideUp"},{label:(0,o.__)("Zoom In","yokoi"),value:"zoomIn"},{label:(0,o.__)("Bounce In","yokoi"),value:"bounceIn"}],P=[{label:(0,o.__)("Center","yokoi"),value:"center"},{label:(0,o.__)("Top Left","yokoi"),value:"top-left"},{label:(0,o.__)("Top Right","yokoi"),value:"top-right"},{label:(0,o.__)("Bottom Left","yokoi"),value:"bottom-left"},{label:(0,o.__)("Bottom Right","yokoi"),value:"bottom-right"}],R=()=>(0,a.jsx)("div",{className:"poppit-preview",children:(0,a.jsx)("div",{className:"popup-overlay",style:{opacity:y},children:(0,a.jsxs)("div",{className:`popup-container popup-${s} animation-${v}`,children:[u&&(0,a.jsx)("button",{className:"popup-close","aria-label":(0,o.__)("Close","yokoi"),children:"Ã—"}),(0,a.jsxs)("div",{className:"popup-content",children:[(0,a.jsx)(l.RichText,{tagName:"h3",className:"popup-title",value:r,onChange:e=>n({title:e}),placeholder:(0,o.__)("Enter popup titleâ€¦","yokoi")}),(0,a.jsx)(l.RichText,{tagName:"div",className:"popup-text",value:p,onChange:e=>n({content:e}),placeholder:(0,o.__)("Enter popup contentâ€¦","yokoi")}),g&&(0,a.jsxs)("div",{className:"popup-email-form",children:[(0,a.jsx)("input",{type:"email",placeholder:k,className:"popup-email-input"}),(0,a.jsx)("button",{className:"popup-submit-btn",children:b})]})]})]})})});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.BlockControls,{children:(0,a.jsx)(i.ToolbarGroup,{children:(0,a.jsx)(i.ToolbarButton,{label:f?(0,o.__)("Edit Mode","yokoi"):(0,o.__)("Preview Mode","yokoi"),onClick:()=>B(!f),isPressed:f,children:f?"âš™ï¸":"ðŸ‘ï¸"})})}),(0,a.jsxs)(l.InspectorControls,{children:[(0,a.jsxs)(i.PanelBody,{title:(0,o.__)("Pop-up Settings","yokoi"),initialOpen:!0,children:[(0,a.jsx)(i.SelectControl,{label:(0,o.__)("Pop-up Type","yokoi"),value:s,options:N,onChange:e=>n({popupType:e})}),(0,a.jsx)(i.SelectControl,{label:(0,o.__)("Animation","yokoi"),value:v,options:E,onChange:e=>n({animation:e})}),"modal"===s&&(0,a.jsx)(i.SelectControl,{label:(0,o.__)("Position","yokoi"),value:C,options:P,onChange:e=>n({position:e})}),(0,a.jsx)(i.TextControl,{label:(0,o.__)("Width","yokoi"),value:m,onChange:e=>n({width:e}),help:(0,o.__)("e.g., 500px, 80%, auto","yokoi")}),(0,a.jsx)(i.ToggleControl,{label:(0,o.__)("Show Close Button","yokoi"),checked:u,onChange:e=>n({showCloseButton:e})}),(0,a.jsx)(i.RangeControl,{label:(0,o.__)("Overlay Opacity","yokoi"),value:y,onChange:e=>n({overlayOpacity:e}),min:0,max:1,step:.1})]}),(0,a.jsxs)(i.PanelBody,{title:(0,o.__)("Trigger Settings","yokoi"),initialOpen:!1,children:[(0,a.jsx)(i.SelectControl,{label:(0,o.__)("Trigger Type","yokoi"),value:c,options:S,onChange:e=>n({triggerType:e})}),"time"===c&&(0,a.jsx)(i.RangeControl,{label:(0,o.__)("Delay (seconds)","yokoi"),value:d,onChange:e=>n({triggerDelay:e}),min:0,max:60,step:1}),"scroll"===c&&(0,a.jsx)(i.RangeControl,{label:(0,o.__)("Scroll Depth (%)","yokoi"),value:_,onChange:e=>n({scrollDepth:e}),min:0,max:100,step:5}),"exit"===c&&(0,a.jsx)(i.ToggleControl,{label:(0,o.__)("Enable Exit Intent","yokoi"),checked:h,onChange:e=>n({exitIntent:e}),help:(0,o.__)("Show popup when user moves cursor to leave the page","yokoi")})]}),(0,a.jsxs)(i.PanelBody,{title:(0,o.__)("Reset Behavior","yokoi"),initialOpen:!1,children:[(0,a.jsx)(i.ToggleControl,{label:(0,o.__)("Allow Reset","yokoi"),checked:w,onChange:e=>n({allowReset:e}),help:(0,o.__)("Allow the popup to be shown again after a specified delay","yokoi")}),w&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.RangeControl,{label:(0,o.__)("Reset Delay (minutes)","yokoi"),value:T||60,onChange:e=>n({resetDelay:e}),min:1,max:1440,step:1,help:(0,o.__)("Time in minutes before the popup can be shown again","yokoi")}),(0,a.jsxs)("div",{style:{marginTop:"15px",padding:"12px",backgroundColor:"#f0f6fc",border:"1px solid #c3e4f7",borderRadius:"4px",fontSize:"13px"},children:[(0,a.jsx)("strong",{children:(0,o.__)("Testing Options:","yokoi")}),(0,a.jsx)("p",{style:{margin:"5px 0 0 0",lineHeight:"1.4"},children:(0,o.__)("Add ?poppit-test=1 to your URL to ignore all display restrictions for testing.","yokoi")})]})]})]}),(0,a.jsxs)(i.PanelBody,{title:(0,o.__)("Email Integration","yokoi"),initialOpen:!1,children:[(0,a.jsx)(i.ToggleControl,{label:(0,o.__)("Enable Email Collection","yokoi"),checked:g,onChange:e=>n({emailEnabled:e})}),g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.TextControl,{label:(0,o.__)("Email Placeholder","yokoi"),value:k,onChange:e=>n({emailPlaceholder:e})}),(0,a.jsx)(i.TextControl,{label:(0,o.__)("Button Text","yokoi"),value:b,onChange:e=>n({buttonText:e})})]})]}),(0,a.jsxs)(i.PanelBody,{title:(0,o.__)("Targeting Options","yokoi"),initialOpen:!1,children:[(0,a.jsx)("h4",{children:(0,o.__)("Device Targeting","yokoi")}),(0,a.jsx)(i.CheckboxControl,{label:(0,o.__)("Desktop","yokoi"),checked:x.devices.includes("desktop"),onChange:e=>{const o=e?[...x.devices,"desktop"]:x.devices.filter(e=>"desktop"!==e);n({targeting:{...x,devices:o}})}}),(0,a.jsx)(i.CheckboxControl,{label:(0,o.__)("Tablet","yokoi"),checked:x.devices.includes("tablet"),onChange:e=>{const o=e?[...x.devices,"tablet"]:x.devices.filter(e=>"tablet"!==e);n({targeting:{...x,devices:o}})}}),(0,a.jsx)(i.CheckboxControl,{label:(0,o.__)("Mobile","yokoi"),checked:x.devices.includes("mobile"),onChange:e=>{const o=e?[...x.devices,"mobile"]:x.devices.filter(e=>"mobile"!==e);n({targeting:{...x,devices:o}})}}),(0,a.jsx)(i.SelectControl,{label:(0,o.__)("User Type","yokoi"),value:x.userType,options:[{label:(0,o.__)("All Visitors","yokoi"),value:"all"},{label:(0,o.__)("New Visitors","yokoi"),value:"new"},{label:(0,o.__)("Returning Visitors","yokoi"),value:"returning"}],onChange:e=>n({targeting:{...x,userType:e}})})]}),(0,a.jsxs)(i.PanelBody,{title:(0,o.__)("More Blocks by iconick","yokoi"),initialOpen:!1,children:[(0,a.jsx)("p",{children:(0,o.__)("Think these ideas are wild? You ain't seen nothing yet.","yokoi")}),(0,a.jsx)(i.ExternalLink,{href:"https://iconick.io/blocks/",children:(0,o.__)("Click to enter the block wonderland","yokoi")})]})]}),(0,a.jsx)("div",{...O,children:f?R():(0,a.jsxs)("div",{className:"poppit-editor",children:[(0,a.jsxs)("div",{className:"poppit-header",children:[(0,a.jsx)("h4",{children:(0,o.__)("Poppit","yokoi")}),(0,a.jsxs)("div",{className:"poppit-meta",children:[(0,a.jsx)("span",{className:"popup-type-badge",children:s.toUpperCase()}),(0,a.jsxs)("span",{className:"trigger-type-badge",children:["time"===c&&(0,o.sprintf)(/* translators: %s: Seconds before the popup is shown. */ /* translators: %s: Seconds before the popup is shown. */
(0,o.__)("After %ss","yokoi"),d),"scroll"===c&&(0,o.sprintf)(/* translators: %s: Percentage of scroll depth. */ /* translators: %s: Percentage of scroll depth. */
(0,o.__)("At %s%%","yokoi"),_),"exit"===c&&(0,o.__)("Exit Intent","yokoi"),"load"===c&&(0,o.__)("Page Load","yokoi"),"manual"===c&&(0,o.__)("Manual","yokoi")]}),w&&(0,a.jsx)("span",{className:"reset-badge",children:(0,o.__)("RESETS","yokoi")})]})]}),(0,a.jsx)("div",{className:"poppit-preview-container",children:R()})]})})]})},save:()=>null})}},l={};function i(e){var t=l[e];if(void 0!==t)return t.exports;var a=l[e]={exports:{}};return o[e](a,a.exports,i),a.exports}i.m=o,e=[],i.O=(o,l,t,a)=>{if(!l){var n=1/0;for(c=0;c<e.length;c++){for(var[l,t,a]=e[c],s=!0,r=0;r<l.length;r++)(!1&a||n>=a)&&Object.keys(i.O).every(e=>i.O[e](l[r]))?l.splice(r--,1):(s=!1,a<n&&(n=a));if(s){e.splice(c--,1);var p=t();void 0!==p&&(o=p)}}return o}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[l,t,a]},i.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={21:0,641:0};i.O.j=o=>0===e[o];var o=(o,l)=>{var t,a,[n,s,r]=l,p=0;if(n.some(o=>0!==e[o])){for(t in s)i.o(s,t)&&(i.m[t]=s[t]);if(r)var c=r(i)}for(o&&o(l);p<n.length;p++)a=n[p],i.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return i.O(c)},l=globalThis.webpackChunkyokoi=globalThis.webpackChunkyokoi||[];l.forEach(o.bind(null,0)),l.push=o.bind(null,l.push.bind(l))})();var t=i.O(void 0,[641],()=>i(1904));t=i.O(t)})();