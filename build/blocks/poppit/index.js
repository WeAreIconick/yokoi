(()=>{"use strict";var e,o={1904:()=>{const e=window.wp.blocks,o=window.wp.i18n,t=window.wp.blockEditor,l=window.wp.components,i=window.wp.element,a=window.ReactJSXRuntime,n=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"yokoi/poppit","version":"0.1.0","title":"Poppit","category":"yokoi","icon":{"src":"<svg viewBox=\\"0 0 24 24\\" xmlns=\\"http://www.w3.org/2000/svg\\"><rect x=\\"3\\" y=\\"3\\" width=\\"18\\" height=\\"18\\" rx=\\"2\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"1.5\\"/><path d=\\"M7 8h10v6h-4.5L11 16v-2H7V8z\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"1.2\\" stroke-linejoin=\\"round\\"/><path d=\\"M15.5 9.5l-.6 1.1-1.2.2.9.9-.2 1.2 1.1-.6 1.1.6-.2-1.2.9-.9-1.2-.2-.6-1.1z\\" fill=\\"currentColor\\"/></svg>"},"description":"Build pop-ups that feel like helpful suggestions, not annoying interruptions.","example":{"attributes":{"popupType":"modal","triggerType":"time","triggerDelay":5,"title":"Subscribe to Our Newsletter","content":"Get the latest updates and exclusive content delivered to your inbox."}},"attributes":{"popupId":{"type":"string","default":""},"popupType":{"type":"string","default":"modal"},"title":{"type":"string","default":"Pop-up Title"},"content":{"type":"string","default":"Your pop-up content goes here."},"triggerType":{"type":"string","default":"time"},"triggerDelay":{"type":"number","default":3},"scrollDepth":{"type":"number","default":50},"exitIntent":{"type":"boolean","default":false},"showCloseButton":{"type":"boolean","default":true},"overlayOpacity":{"type":"number","default":0.8},"emailEnabled":{"type":"boolean","default":false},"emailPlaceholder":{"type":"string","default":"Enter your email address"},"buttonText":{"type":"string","default":"Subscribe"},"targeting":{"type":"object","default":{"devices":["desktop","tablet","mobile"],"userType":"all"}},"animation":{"type":"string","default":"fadeIn"},"width":{"type":"string","default":"500px"},"height":{"type":"string","default":"auto"},"position":{"type":"string","default":"center"},"allowReset":{"type":"boolean","default":false},"resetDelay":{"type":"number","default":60}},"supports":{"html":false,"color":{"background":true,"text":true,"gradients":true},"typography":{"fontSize":true,"fontFamily":true,"lineHeight":true},"spacing":{"padding":true,"margin":true},"border":{"radius":true,"width":true,"style":true,"color":true}},"textdomain":"yokoi","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScript":"file:./view.js","render":"file:./render.php"}');(0,e.registerBlockType)(n.name,{...n,icon:"megaphone",edit:function({attributes:e,setAttributes:n}){const{popupType:s,title:r,content:p,triggerType:u,triggerDelay:d,scrollDepth:_,exitIntent:c,showCloseButton:g,overlayOpacity:y,emailEnabled:h,emailPlaceholder:x,buttonText:m,targeting:b,animation:k,width:v,height:f,position:j,allowReset:C,resetDelay:w}=e,[T,B]=(0,i.useState)(!1);(0,i.useEffect)(()=>{e.popupId||n({popupId:`popup-${Math.random().toString(36).slice(2,11)}`})},[e.popupId,n]);const N=(0,t.useBlockProps)({className:`poppit-block popup-type-${s} position-${j}`,style:{"--popup-width":v,"--popup-height":f,"--overlay-opacity":y}}),S=[{label:(0,o.__)("Modal/Lightbox","yokoi"),value:"modal"},{label:(0,o.__)("Slide In","yokoi"),value:"slide"},{label:(0,o.__)("Top Bar","yokoi"),value:"topbar"},{label:(0,o.__)("Bottom Bar","yokoi"),value:"bottombar"},{label:(0,o.__)("Full Screen","yokoi"),value:"fullscreen"}],D=[{label:(0,o.__)("Time Based","yokoi"),value:"time"},{label:(0,o.__)("Scroll Depth","yokoi"),value:"scroll"},{label:(0,o.__)("Exit Intent","yokoi"),value:"exit"},{label:(0,o.__)("Page Load","yokoi"),value:"load"},{label:(0,o.__)("Manual Trigger","yokoi"),value:"manual"}],M=[{label:(0,o.__)("Fade In","yokoi"),value:"fadeIn"},{label:(0,o.__)("Slide Down","yokoi"),value:"slideDown"},{label:(0,o.__)("Slide Up","yokoi"),value:"slideUp"},{label:(0,o.__)("Zoom In","yokoi"),value:"zoomIn"},{label:(0,o.__)("Bounce In","yokoi"),value:"bounceIn"}],O=[{label:(0,o.__)("Center","yokoi"),value:"center"},{label:(0,o.__)("Top Left","yokoi"),value:"top-left"},{label:(0,o.__)("Top Right","yokoi"),value:"top-right"},{label:(0,o.__)("Bottom Left","yokoi"),value:"bottom-left"},{label:(0,o.__)("Bottom Right","yokoi"),value:"bottom-right"}],H=()=>(0,a.jsx)("div",{className:"poppit-preview",children:(0,a.jsx)("div",{className:"popup-overlay",style:{opacity:y},children:(0,a.jsxs)("div",{className:`popup-container popup-${s} animation-${k}`,children:[g&&(0,a.jsx)("button",{className:"popup-close","aria-label":(0,o.__)("Close","yokoi"),children:"Ã—"}),(0,a.jsxs)("div",{className:"popup-content",children:[(0,a.jsx)(t.RichText,{tagName:"h3",className:"popup-title",value:r,onChange:e=>n({title:e}),placeholder:(0,o.__)("Enter popup titleâ€¦","yokoi")}),(0,a.jsx)(t.RichText,{tagName:"div",className:"popup-text",value:p,onChange:e=>n({content:e}),placeholder:(0,o.__)("Enter popup contentâ€¦","yokoi")}),h&&(0,a.jsxs)("div",{className:"popup-email-form",children:[(0,a.jsx)("input",{type:"email",placeholder:x,className:"popup-email-input"}),(0,a.jsx)("button",{className:"popup-submit-btn",children:m})]})]})]})})});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.BlockControls,{children:(0,a.jsx)(l.ToolbarGroup,{children:(0,a.jsx)(l.ToolbarButton,{label:T?(0,o.__)("Edit Mode","yokoi"):(0,o.__)("Preview Mode","yokoi"),onClick:()=>B(!T),isPressed:T,children:T?"âš™ï¸":"ðŸ‘ï¸"})})}),(0,a.jsxs)(t.InspectorControls,{children:[(0,a.jsxs)(l.PanelBody,{title:(0,o.__)("Pop-up Settings","yokoi"),initialOpen:!0,children:[(0,a.jsx)(l.SelectControl,{label:(0,o.__)("Pop-up Type","yokoi"),value:s,options:S,onChange:e=>n({popupType:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,a.jsx)(l.SelectControl,{label:(0,o.__)("Animation","yokoi"),value:k,options:M,onChange:e=>n({animation:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),"modal"===s&&(0,a.jsx)(l.SelectControl,{label:(0,o.__)("Position","yokoi"),value:j,options:O,onChange:e=>n({position:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,a.jsx)(l.TextControl,{label:(0,o.__)("Width","yokoi"),value:v,onChange:e=>n({width:e}),help:(0,o.__)("e.g., 500px, 80%, auto","yokoi"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,a.jsx)(l.ToggleControl,{label:(0,o.__)("Show Close Button","yokoi"),checked:g,onChange:e=>n({showCloseButton:e}),__nextHasNoMarginBottom:!0}),(0,a.jsx)(l.RangeControl,{label:(0,o.__)("Overlay Opacity","yokoi"),value:y,onChange:e=>n({overlayOpacity:e}),min:0,max:1,step:.1,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})]}),(0,a.jsxs)(l.PanelBody,{title:(0,o.__)("Trigger Settings","yokoi"),initialOpen:!1,children:[(0,a.jsx)(l.SelectControl,{label:(0,o.__)("Trigger Type","yokoi"),value:u,options:D,onChange:e=>n({triggerType:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),"time"===u&&(0,a.jsx)(l.RangeControl,{label:(0,o.__)("Delay (seconds)","yokoi"),value:d,onChange:e=>n({triggerDelay:e}),min:0,max:60,step:1,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),"scroll"===u&&(0,a.jsx)(l.RangeControl,{label:(0,o.__)("Scroll Depth (%)","yokoi"),value:_,onChange:e=>n({scrollDepth:e}),min:0,max:100,step:5,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),"exit"===u&&(0,a.jsx)(l.ToggleControl,{label:(0,o.__)("Enable Exit Intent","yokoi"),checked:c,onChange:e=>n({exitIntent:e}),help:(0,o.__)("Show popup when user moves cursor to leave the page","yokoi"),__nextHasNoMarginBottom:!0})]}),(0,a.jsxs)(l.PanelBody,{title:(0,o.__)("Reset Behavior","yokoi"),initialOpen:!1,children:[(0,a.jsx)(l.ToggleControl,{label:(0,o.__)("Allow Reset","yokoi"),checked:C,onChange:e=>n({allowReset:e}),help:(0,o.__)("Allow the popup to be shown again after a specified delay","yokoi"),__nextHasNoMarginBottom:!0}),C&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.RangeControl,{label:(0,o.__)("Reset Delay (minutes)","yokoi"),value:w||60,onChange:e=>n({resetDelay:e}),min:1,max:1440,step:1,help:(0,o.__)("Time in minutes before the popup can be shown again","yokoi"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,a.jsxs)("div",{style:{marginTop:"15px",padding:"12px",backgroundColor:"#f0f6fc",border:"1px solid #c3e4f7",borderRadius:"4px",fontSize:"13px"},children:[(0,a.jsx)("strong",{children:(0,o.__)("Testing Options:","yokoi")}),(0,a.jsx)("p",{style:{margin:"5px 0 0 0",lineHeight:"1.4"},children:(0,o.__)("Add ?poppit-test=1 to your URL to ignore all display restrictions for testing.","yokoi")})]})]})]}),(0,a.jsxs)(l.PanelBody,{title:(0,o.__)("Email Integration","yokoi"),initialOpen:!1,children:[(0,a.jsx)(l.ToggleControl,{label:(0,o.__)("Enable Email Collection","yokoi"),checked:h,onChange:e=>n({emailEnabled:e}),__nextHasNoMarginBottom:!0}),h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.TextControl,{label:(0,o.__)("Email Placeholder","yokoi"),value:x,onChange:e=>n({emailPlaceholder:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,a.jsx)(l.TextControl,{label:(0,o.__)("Button Text","yokoi"),value:m,onChange:e=>n({buttonText:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})]})]}),(0,a.jsxs)(l.PanelBody,{title:(0,o.__)("Targeting Options","yokoi"),initialOpen:!1,children:[(0,a.jsx)("h4",{children:(0,o.__)("Device Targeting","yokoi")}),(0,a.jsx)(l.CheckboxControl,{label:(0,o.__)("Desktop","yokoi"),checked:b.devices.includes("desktop"),onChange:e=>{const o=e?[...b.devices,"desktop"]:b.devices.filter(e=>"desktop"!==e);n({targeting:{...b,devices:o}})},__nextHasNoMarginBottom:!0}),(0,a.jsx)(l.CheckboxControl,{label:(0,o.__)("Tablet","yokoi"),checked:b.devices.includes("tablet"),onChange:e=>{const o=e?[...b.devices,"tablet"]:b.devices.filter(e=>"tablet"!==e);n({targeting:{...b,devices:o}})},__nextHasNoMarginBottom:!0}),(0,a.jsx)(l.CheckboxControl,{label:(0,o.__)("Mobile","yokoi"),checked:b.devices.includes("mobile"),onChange:e=>{const o=e?[...b.devices,"mobile"]:b.devices.filter(e=>"mobile"!==e);n({targeting:{...b,devices:o}})},__nextHasNoMarginBottom:!0}),(0,a.jsx)(l.SelectControl,{label:(0,o.__)("User Type","yokoi"),value:b.userType,options:[{label:(0,o.__)("All Visitors","yokoi"),value:"all"},{label:(0,o.__)("New Visitors","yokoi"),value:"new"},{label:(0,o.__)("Returning Visitors","yokoi"),value:"returning"}],onChange:e=>n({targeting:{...b,userType:e}}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})]})]}),(0,a.jsx)("div",{...N,children:T?H():(0,a.jsxs)("div",{className:"poppit-editor",children:[(0,a.jsxs)("div",{className:"poppit-header",children:[(0,a.jsx)("h4",{children:(0,o.__)("Poppit","yokoi")}),(0,a.jsxs)("div",{className:"poppit-meta",children:[(0,a.jsx)("span",{className:"popup-type-badge",children:s.toUpperCase()}),(0,a.jsxs)("span",{className:"trigger-type-badge",children:["time"===u&&(0,o.sprintf)(/* translators: %s: Seconds before the popup is shown. */ /* translators: %s: Seconds before the popup is shown. */
(0,o.__)("After %ss","yokoi"),d),"scroll"===u&&(0,o.sprintf)(/* translators: %s: Percentage of scroll depth. */ /* translators: %s: Percentage of scroll depth. */
(0,o.__)("At %s%%","yokoi"),_),"exit"===u&&(0,o.__)("Exit Intent","yokoi"),"load"===u&&(0,o.__)("Page Load","yokoi"),"manual"===u&&(0,o.__)("Manual","yokoi")]}),C&&(0,a.jsx)("span",{className:"reset-badge",children:(0,o.__)("RESETS","yokoi")})]})]}),(0,a.jsx)("div",{className:"poppit-preview-container",children:H()})]})})]})},save:()=>null})}},t={};function l(e){var i=t[e];if(void 0!==i)return i.exports;var a=t[e]={exports:{}};return o[e](a,a.exports,l),a.exports}l.m=o,e=[],l.O=(o,t,i,a)=>{if(!t){var n=1/0;for(u=0;u<e.length;u++){for(var[t,i,a]=e[u],s=!0,r=0;r<t.length;r++)(!1&a||n>=a)&&Object.keys(l.O).every(e=>l.O[e](t[r]))?t.splice(r--,1):(s=!1,a<n&&(n=a));if(s){e.splice(u--,1);var p=i();void 0!==p&&(o=p)}}return o}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[t,i,a]},l.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={21:0,641:0};l.O.j=o=>0===e[o];var o=(o,t)=>{var i,a,[n,s,r]=t,p=0;if(n.some(o=>0!==e[o])){for(i in s)l.o(s,i)&&(l.m[i]=s[i]);if(r)var u=r(l)}for(o&&o(t);p<n.length;p++)a=n[p],l.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return l.O(u)},t=globalThis.webpackChunkyokoi=globalThis.webpackChunkyokoi||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var i=l.O(void 0,[641],()=>l(1904));i=l.O(i)})();