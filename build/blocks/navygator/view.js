!function(){"use strict";function t(t){return t&&"string"==typeof t?t.replace(/[^a-zA-Z0-9_-]/g,""):null}function n(){const n=document.querySelector(".navygator-toc-wrapper");if(!n||!document.body.contains(n))return;const i=n.querySelector(".navygator-toc"),r=n.querySelector(".navygator-toc-toggle"),s=n.querySelector(".navygator-toc-close"),a=n.querySelector(".navygator-toc-backdrop"),c=n.querySelectorAll(".navygator-toc-link");r&&r.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),window.innerWidth<=768?(i&&i.classList.add("is-open"),a&&a.classList.add("is-visible"),document.body.classList.add("navygator-toc-open")):i&&(i.classList.contains("is-open")?d():i&&(i.classList.add("is-open"),i.style.setProperty("opacity","1","important"),i.style.setProperty("visibility","visible","important"),i.style.setProperty("transform","translateY(0) scale(1)","important"),i.style.setProperty("transition","all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","important"),a&&(a.style.setProperty("opacity","1","important"),a.style.setProperty("visibility","visible","important"),a.style.setProperty("transition","all 0.3s ease","important"))))},{passive:!1}),s&&s.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),window.innerWidth<=768?u():d()},{passive:!1}),a&&a.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),u()},{passive:!1});const l=function(){let t;return function(...n){clearTimeout(t),t=setTimeout(()=>{clearTimeout(t),function(t){"Escape"===t.key&&i&&i.classList.contains("is-open")&&(window.innerWidth<=768?u():d())}(...n)},100)}}();function u(){i&&i.classList.remove("is-open"),a&&a.classList.remove("is-visible"),document.body.classList.remove("navygator-toc-open")}function d(){i&&(i.classList.remove("is-open"),i.style.setProperty("opacity","0","important"),i.style.setProperty("visibility","hidden","important"),i.style.setProperty("transform","translateY(-10px) scale(0.95)","important"),i.style.setProperty("transition","all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","important"),a&&(a.style.setProperty("opacity","0","important"),a.style.setProperty("visibility","hidden","important"),a.style.setProperty("transition","all 0.3s ease","important")))}document.addEventListener("keydown",l,{passive:!0}),c.forEach(function(n){n.addEventListener("click",function(n){n.preventDefault();const e=this.getAttribute("href");if(!e||!e.startsWith("#"))return;const o=t(e.substring(1));if(!o)return;const i=document.getElementById(o);i&&document.body.contains(i)&&(window.innerWidth<=768?u():d(),requestAnimationFrame(()=>{const t=i.getBoundingClientRect().top+window.pageYOffset+-20;window.scrollTo({top:t,behavior:"smooth"}),history.pushState&&history.pushState(null,null,"#"+o)}))},{passive:!0})}),function(n){const i=Array.from(n).map(function(n){const e=n.getAttribute("href");return e&&e.startsWith("#")?t(e.substring(1)):null}).filter(function(t){return null!==t}).map(function(t){const n=document.getElementById(t);return n&&document.body.contains(n)?n:null}).filter(function(t){return null!==t});if(0===i.length)return;let r=null,s=null;const a=new IntersectionObserver(function(i){s&&cancelAnimationFrame(s),s=requestAnimationFrame(function(){i.forEach(function(i){if(i.isIntersecting){r=i.target;const s=t(i.target.id);s&&(e(s,n),o(s,n))}})})},{rootMargin:"-20% 0px -35% 0px",threshold:0});i.forEach(function(t){document.body.contains(t)&&a.observe(t)});const c=function(n){if(!n||0===n.length)return null;const e=window.scrollY+100;for(let o=n.length-1;o>=0;o--){const i=n[o];if(i&&document.body.contains(i)&&i.offsetTop<=e)return t(i.id)}return n[0]&&document.body.contains(n[0])?t(n[0].id):null}(i);c&&(e(c,n),o(c,n)),window.addEventListener("beforeunload",function(){s&&cancelAnimationFrame(s),a.disconnect()},{passive:!0})}(c)}function e(n,e){n&&e.forEach(function(e){const o=e.getAttribute("href");if(!o||!o.startsWith("#"))return;const i=t(o.substring(1));i&&(i===n?e.classList.add("is-active"):e.classList.remove("is-active"))})}function o(n,e){if(!n)return;const o=Array.from(e).find(function(e){const o=e.getAttribute("href");return!(!o||!o.startsWith("#"))&&t(o.substring(1))===n});if(!o||!document.body.contains(o))return;const i=document.querySelector(".navygator-toc");i&&document.body.contains(i)&&requestAnimationFrame(function(){const t=i.getBoundingClientRect(),n=o.getBoundingClientRect(),e=n.top-t.top,r=n.bottom-t.top,s=t.height;if(e<0||r>s){const t=o.offsetTop-s/2+n.height/2;i.scrollTo({top:Math.max(0,t),behavior:"smooth"})}})}window.navygatorInitialized||(window.navygatorInitialized=!0,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n())}();