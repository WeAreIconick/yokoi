(()=>{"use strict";var e,o={2670:()=>{const e=window.wp.blocks,o=window.wp.element,r=window.wp.i18n,s=window.wp.blockEditor,t=window.wp.components,i=window.ReactJSXRuntime,l=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"yokoi/webwindow","version":"0.1.0","title":"WebWindow","category":"yokoi","icon":{"src":"<svg viewBox=\\"0 0 24 24\\" xmlns=\\"http://www.w3.org/2000/svg\\"><rect x=\\"3\\" y=\\"3\\" width=\\"18\\" height=\\"18\\" rx=\\"2\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"1.5\\"/><rect x=\\"5\\" y=\\"7\\" width=\\"14\\" height=\\"12\\" rx=\\"1\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"1.2\\"/><path d=\\"M10 11.5 8 13l2 1.5\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/><path d=\\"M14 11.5 16 13l-2 1.5\\" fill=\\"none\\" stroke=\\"currentColor\\" stroke-width=\\"1.5\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\"/></svg>"},"description":"Embed external sites inside a responsive browser frame with optional scale-to-fit zoom.","keywords":["embed","iframe","browser","preview"],"example":{"attributes":{"src":"https://demo.iconick.io/twombly/","scaleToFit":true}},"attributes":{"src":{"type":"string","default":"https://demo.iconick.io/twombly/"},"scaleToFit":{"type":"boolean","default":true}},"supports":{"html":false,"align":["wide","full"],"layout":true},"textdomain":"yokoi","editorScript":"file:./index.js","editorStyle":"file:./editor.css","style":"file:./style-index.css","viewScript":"file:./view.js"}');(0,e.registerBlockType)(l.name,{...l,icon:"desktop",edit:({attributes:e,setAttributes:l})=>{const{src:n,scaleToFit:a}=e,[d,c]=(0,o.useState)(!1),w=(0,o.useRef)(null),p=(0,o.useRef)(null),[b,u]=(0,o.useState)(1),[f,m]=(0,o.useState)(900);(0,o.useEffect)(()=>{if(!a)return u(1),void m(900);const e=()=>{if(!p.current)return;const e=p.current.offsetWidth||600,o=Math.min(1,e/1440);u(o),m(Math.round(900*o))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[a]);const h=a?{width:"1440px",height:"900px",border:d?"2px solid #f00":"1px solid #ddd",background:"#fff",transform:`scale(${b})`,transformOrigin:"top left",display:"block",overflow:"hidden"}:{width:"100%",minHeight:400,border:d?"2px solid #f00":"1px solid #ddd",background:"#fff",display:"block",overflow:"auto"},x=a?{width:"100%",height:`${f}px`,maxWidth:"100%",overflow:"hidden",position:"relative",background:"#fff"}:{};return(0,i.jsxs)("div",{...(0,s.useBlockProps)(),children:[(0,i.jsxs)(s.InspectorControls,{children:[(0,i.jsxs)(t.PanelBody,{title:(0,r.__)("WebWindow Settings","yokoi"),initialOpen:!0,children:[(0,i.jsx)(t.TextControl,{type:"url",label:(0,r.__)("Webpage URL","yokoi"),value:n,onChange:e=>l({src:e}),placeholder:"https://demo.iconick.io/twombly/"}),(0,i.jsx)(t.ToggleControl,{label:(0,r.__)("Scale to fit (show the full site at once)","yokoi"),checked:a,onChange:e=>l({scaleToFit:e}),help:(0,r.__)("Zooms out the embedded page so more of the full site is visible. This may reduce readability or interactivity.","yokoi")})]}),(0,i.jsxs)(t.PanelBody,{title:(0,r.__)("Powered by Telex","yokoi"),initialOpen:!1,children:[(0,i.jsx)("p",{children:(0,r.__)("Telex is an AI assistant that helps build WordPress blocks in minutes.","yokoi")}),(0,i.jsx)("a",{href:"https://telex.automattic.ai",target:"_blank",rel:"noopener noreferrer",children:(0,r.__)("Learn more about Telex","yokoi")})]})]}),(0,i.jsxs)("div",{className:"webwindow-block-embed browser-frame",ref:p,children:[(0,i.jsxs)("div",{className:"browser-frame-bar",children:[(0,i.jsx)("span",{className:"browser-frame-dot red"}),(0,i.jsx)("span",{className:"browser-frame-dot yellow"}),(0,i.jsx)("span",{className:"browser-frame-dot green"}),(0,i.jsx)("span",{className:"browser-frame-url",children:n||""}),n?(0,i.jsx)(t.Button,{className:"browser-frame-open-button",icon:"external",label:(0,r.__)("Open full site in a new tab","yokoi"),variant:"tertiary",onClick:()=>window.open(n,"_blank","noopener,noreferrer")}):null]}),(0,i.jsx)("div",{className:"webwindow-iframe-outer",style:x,children:n?(0,i.jsx)("iframe",{ref:w,title:(0,r.__)("Embedded web page","yokoi"),src:n,onError:()=>{c(!0)},style:h,sandbox:"allow-scripts allow-forms allow-same-origin allow-popups"}):null}),n&&d?(0,i.jsx)(t.Notice,{status:"warning",isDismissible:!1,children:(0,r.__)("This site refused to be embedded or is currently unavailable.","yokoi")}):null,n?null:(0,i.jsx)("div",{className:"webwindow-block-empty"})]})]})},save:({attributes:e})=>{const{src:o,scaleToFit:t}=e;return(0,i.jsx)("div",{...s.useBlockProps.save(),"data-src":o,"data-scale-to-fit":t?"1":"0",children:(0,i.jsxs)("div",{className:"webwindow-block-embed browser-frame",children:[(0,i.jsxs)("div",{className:"browser-frame-bar",children:[(0,i.jsx)("span",{className:"browser-frame-dot red"}),(0,i.jsx)("span",{className:"browser-frame-dot yellow"}),(0,i.jsx)("span",{className:"browser-frame-dot green"}),(0,i.jsx)("span",{className:"browser-frame-url",children:o||""}),o?(0,i.jsx)("a",{href:o,className:"browser-frame-open-button",target:"_blank",rel:"noopener noreferrer",title:(0,r.__)("Open full site in a new tab","yokoi"),children:"â†—"}):null]}),(0,i.jsx)("noscript",{children:o?(0,i.jsx)("iframe",{title:(0,r.__)("Embedded web page (noscript fallback)","yokoi"),src:o,style:{width:"100%",minHeight:400,border:"1px solid #ccc"},sandbox:"allow-scripts allow-forms allow-same-origin allow-popups"}):null}),(0,i.jsx)("div",{className:"webwindow-iframe-outer"}),o?null:(0,i.jsx)("div",{className:"webwindow-block-empty"})]})})}})}},r={};function s(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return o[e](i,i.exports,s),i.exports}s.m=o,e=[],s.O=(o,r,t,i)=>{if(!r){var l=1/0;for(c=0;c<e.length;c++){for(var[r,t,i]=e[c],n=!0,a=0;a<r.length;a++)(!1&i||l>=i)&&Object.keys(s.O).every(e=>s.O[e](r[a]))?r.splice(a--,1):(n=!1,i<l&&(l=i));if(n){e.splice(c--,1);var d=t();void 0!==d&&(o=d)}}return o}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[r,t,i]},s.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={91:0,755:0};s.O.j=o=>0===e[o];var o=(o,r)=>{var t,i,[l,n,a]=r,d=0;if(l.some(o=>0!==e[o])){for(t in n)s.o(n,t)&&(s.m[t]=n[t]);if(a)var c=a(s)}for(o&&o(r);d<l.length;d++)i=l[d],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(c)},r=globalThis.webpackChunkyokoi=globalThis.webpackChunkyokoi||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))})();var t=s.O(void 0,[755],()=>s(2670));t=s.O(t)})();