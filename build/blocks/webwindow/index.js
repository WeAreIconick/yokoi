(()=>{"use strict";var e,o={670:()=>{const e=window.wp.blocks,o=window.wp.element,r=window.wp.i18n,s=window.wp.blockEditor,i=window.wp.components,l=window.ReactJSXRuntime,a=JSON.parse('{"UU":"yokoi/webwindow"}');(0,e.registerBlockType)(a.UU,{edit:({attributes:e,setAttributes:a})=>{const{src:t,scaleToFit:n}=e,[d,c]=(0,o.useState)(!1),w=(0,o.useRef)(null),b=(0,o.useRef)(null),[p,f]=(0,o.useState)(1),[m,u]=(0,o.useState)(900);(0,o.useEffect)(()=>{if(!n)return f(1),void u(900);const e=()=>{if(!b.current)return;const e=b.current.offsetWidth||600,o=Math.min(1,e/1440);f(o),u(Math.round(900*o))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[n]);const h=n?{width:"1440px",height:"900px",border:d?"2px solid #f00":"1px solid #ddd",background:"#fff",transform:`scale(${p})`,transformOrigin:"top left",display:"block",overflow:"hidden"}:{width:"100%",minHeight:400,border:d?"2px solid #f00":"1px solid #ddd",background:"#fff",display:"block",overflow:"auto"},x=n?{width:"100%",height:`${m}px`,maxWidth:"100%",overflow:"hidden",position:"relative",background:"#fff"}:{};return(0,l.jsxs)("div",{...(0,s.useBlockProps)(),children:[(0,l.jsxs)(s.InspectorControls,{children:[(0,l.jsxs)(i.PanelBody,{title:(0,r.__)("WebWindow Settings","yokoi"),initialOpen:!0,children:[(0,l.jsx)(i.TextControl,{type:"url",label:(0,r.__)("Webpage URL","yokoi"),value:t,onChange:e=>a({src:e}),placeholder:"https://demo.iconick.io/twombly/"}),(0,l.jsx)(i.ToggleControl,{label:(0,r.__)("Scale to fit (show the full site at once)","yokoi"),checked:n,onChange:e=>a({scaleToFit:e}),help:(0,r.__)("Zooms out the embedded page so more of the full site is visible. This may reduce readability or interactivity.","yokoi")})]}),(0,l.jsxs)(i.PanelBody,{title:(0,r.__)("Powered by Telex","yokoi"),initialOpen:!1,children:[(0,l.jsx)("p",{children:(0,r.__)("Telex is an AI assistant that helps build WordPress blocks in minutes.","yokoi")}),(0,l.jsx)("a",{href:"https://telex.automattic.ai",target:"_blank",rel:"noopener noreferrer",children:(0,r.__)("Learn more about Telex","yokoi")})]})]}),(0,l.jsxs)("div",{className:"webwindow-block-embed browser-frame",ref:b,children:[(0,l.jsxs)("div",{className:"browser-frame-bar",children:[(0,l.jsx)("span",{className:"browser-frame-dot red"}),(0,l.jsx)("span",{className:"browser-frame-dot yellow"}),(0,l.jsx)("span",{className:"browser-frame-dot green"}),(0,l.jsx)("span",{className:"browser-frame-url",children:t||""}),t?(0,l.jsx)(i.Button,{className:"browser-frame-open-button",icon:"external",label:(0,r.__)("Open full site in a new tab","yokoi"),variant:"tertiary",onClick:()=>window.open(t,"_blank","noopener,noreferrer")}):null]}),(0,l.jsx)("div",{className:"webwindow-iframe-outer",style:x,children:t?(0,l.jsx)("iframe",{ref:w,title:(0,r.__)("Embedded web page","yokoi"),src:t,onError:()=>{c(!0)},style:h,sandbox:"allow-scripts allow-forms allow-same-origin allow-popups"}):null}),t&&d?(0,l.jsx)(i.Notice,{status:"warning",isDismissible:!1,children:(0,r.__)("This site refused to be embedded or is currently unavailable.","yokoi")}):null,t?null:(0,l.jsx)("div",{className:"webwindow-block-empty"})]})]})},save:({attributes:e})=>{const{src:o,scaleToFit:i}=e;return(0,l.jsx)("div",{...s.useBlockProps.save(),"data-src":o,"data-scale-to-fit":i?"1":"0",children:(0,l.jsxs)("div",{className:"webwindow-block-embed browser-frame",children:[(0,l.jsxs)("div",{className:"browser-frame-bar",children:[(0,l.jsx)("span",{className:"browser-frame-dot red"}),(0,l.jsx)("span",{className:"browser-frame-dot yellow"}),(0,l.jsx)("span",{className:"browser-frame-dot green"}),(0,l.jsx)("span",{className:"browser-frame-url",children:o||""}),o?(0,l.jsx)("a",{href:o,className:"browser-frame-open-button",target:"_blank",rel:"noopener noreferrer",title:(0,r.__)("Open full site in a new tab","yokoi"),children:"â†—"}):null]}),(0,l.jsx)("noscript",{children:o?(0,l.jsx)("iframe",{title:(0,r.__)("Embedded web page (noscript fallback)","yokoi"),src:o,style:{width:"100%",minHeight:400,border:"1px solid #ccc"},sandbox:"allow-scripts allow-forms allow-same-origin allow-popups"}):null}),(0,l.jsx)("div",{className:"webwindow-iframe-outer"}),o?null:(0,l.jsx)("div",{className:"webwindow-block-empty"})]})})}})}},r={};function s(e){var i=r[e];if(void 0!==i)return i.exports;var l=r[e]={exports:{}};return o[e](l,l.exports,s),l.exports}s.m=o,e=[],s.O=(o,r,i,l)=>{if(!r){var a=1/0;for(c=0;c<e.length;c++){for(var[r,i,l]=e[c],t=!0,n=0;n<r.length;n++)(!1&l||a>=l)&&Object.keys(s.O).every(e=>s.O[e](r[n]))?r.splice(n--,1):(t=!1,l<a&&(a=l));if(t){e.splice(c--,1);var d=i();void 0!==d&&(o=d)}}return o}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[r,i,l]},s.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={91:0,755:0};s.O.j=o=>0===e[o];var o=(o,r)=>{var i,l,[a,t,n]=r,d=0;if(a.some(o=>0!==e[o])){for(i in t)s.o(t,i)&&(s.m[i]=t[i]);if(n)var c=n(s)}for(o&&o(r);d<a.length;d++)l=a[d],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(c)},r=globalThis.webpackChunkyokoi=globalThis.webpackChunkyokoi||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))})();var i=s.O(void 0,[755],()=>s(670));i=s.O(i)})();