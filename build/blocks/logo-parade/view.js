document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".wp-block-yokoi-logo-parade");if(!e.length)return;const t=window.matchMedia("(prefers-reduced-motion: reduce)").matches;e.forEach(e=>{const n=e.querySelector(".logo-parade-track");if(!n)return;const o=Array.from(n.querySelectorAll(".logo-parade-item")),r=o.filter(e=>!e.hasAttribute("aria-hidden"));if(o.length<=1||r.length<=1)return;const a=parseInt(e.dataset.rotationSpeed,10)||3e3,i=parseInt(e.dataset.transitionDuration,10)||500,s="false"!==e.dataset.pauseOnHover,d=parseInt(e.dataset.originalCount,10)||r.length;if(t)return;let l=0,u=null,c=!1,w=0,m=0;const f=()=>{const e=o[0];e&&(w=e.getBoundingClientRect().width,m=parseFloat(window.getComputedStyle(n).gap)||40)},g=(e,t=!1)=>{if(w<=0)return;const o=-e*(w+m);t&&(n.style.transition="none"),n.style.transform=`translateX(${o}px)`,t&&(n.offsetHeight,n.style.transition=`transform ${i}ms ease-in-out`)},h=()=>{l=0,g(0,!0)},p=()=>{if(c||w<=0)return;c=!0,l+=1;const e=o[0];if(e){const t=e.getBoundingClientRect().width;Math.abs(t-w)>1&&(w=t)}g(l),window.setTimeout(()=>{l>=d&&h(),c=!1},i)},y=()=>{u&&(window.clearInterval(u),u=null)},v=()=>{y(),d>1&&(u=window.setInterval(p,a))};n.style.transition=`transform ${i}ms ease-in-out`,n.style.willChange="transform",f(),h(),v(),s&&(e.addEventListener("mouseenter",y),e.addEventListener("mouseleave",v));let E=null;window.addEventListener("resize",()=>{window.clearTimeout(E),E=window.setTimeout(()=>{y(),f(),h(),v()},200)}),document.addEventListener("visibilitychange",()=>{document.hidden?y():v()}),window.addEventListener("beforeunload",y)})});